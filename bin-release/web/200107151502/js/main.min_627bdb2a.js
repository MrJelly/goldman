var __reflect=this&&this.__reflect||function(t,e,o){t.__class__=e,o?o.push(e):o=[e],t.__types__=t.__types__?o.concat(t.__types__):o},__extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);o.prototype=e.prototype,t.prototype=new o},__awaiter=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{h(i.next(t))}catch(e){r(e)}}function s(t){try{h(i["throw"](t))}catch(e){r(e)}}function h(t){t.done?n(t.value):new o(function(e){e(t.value)}).then(a,s)}h((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function o(t){return function(e){return i([t,e])}}function i(o){if(n)throw new TypeError("Generator is already executing.");for(;h;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return h.label++,{value:o[1],done:!1};case 5:h.label++,r=o[1],o=[0];continue;case 7:o=h.ops.pop(),h.trys.pop();continue;default:if(a=h.trys,!(a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){h=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){h.label=o[1];break}if(6===o[0]&&h.label<a[1]){h.label=a[1],a=o;break}if(a&&h.label<a[2]){h.label=a[2],h.ops.push(o);break}a[2]&&h.ops.pop(),h.trys.pop();continue}o=e.call(t,h)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var n,r,a,s,h={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},goldman;!function(t){var e=function(e){function o(t,o,i){var n=e.call(this)||this;return n.name=Math.floor(9999999999*Math.random()).toString(),n._type=t,n._money=Number(o),n._backV=Number(i),n.addEventListener(egret.Event.ADDED_TO_STAGE,n.onAddToStage,n),n}return __extends(o,e),o.prototype.onAddToStage=function(e){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.objBmp=t.createBitmapByName(this._type),this.addChild(this.objBmp);var o=new egret.TextField;this.addChild(o),o.textAlign=egret.HorizontalAlign.LEFT,o.textColor=0,o.width=22,o.size=18,o.text=this._money.toString()},o.prototype.overObject=function(){},Object.defineProperty(o.prototype,"money",{get:function(){return this._money},set:function(t){this._money=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"backV",{get:function(){return this._backV},set:function(t){this._backV=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),o.prototype.destory=function(){console.log("物体销毁"),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),t.removeAllchild(this)},o}(egret.Sprite);t.Obj=e,__reflect(e.prototype,"goldman.Obj")}(goldman||(goldman={}));var goldman;!function(t){var e=function(e){function o(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(o,e),o.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)},o.prototype.createObjs=function(){this.bgBmp=t.createBitmapByName("bgall_png"),this.addChild(this.bgBmp),this.heroBmp=t.createBitmapByName("hero_png"),this.addChild(this.heroBmp),this.heroBmp.x=330,this.heroBmp.y=34,this.startGoButton=t.createBitmapByName("LevelPanel_png"),this.addChild(this.startGoButton),this.startGoButton.x=235,this.startGoButton.y=1085,this.startGoButton.touchEnabled=!0,this.startGoButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickStartGoButton,this),this.scoreTextField=new egret.TextField,this.addChild(this.scoreTextField),this.scoreTextField.x=203,this.scoreTextField.y=36,this.scoreTextField.width=80,this.scoreTextField.textColor=6893847,this.scoreTextField.textAlign=egret.HorizontalAlign.CENTER,this.scoreTextField.size=36,this.scoreTextField.text="0",this.goalTextField=new egret.TextField,this.addChild(this.goalTextField),this.goalTextField.x=180,this.goalTextField.y=110,this.goalTextField.width=80,this.goalTextField.textColor=6893847,this.goalTextField.textAlign=egret.HorizontalAlign.CENTER,this.goalTextField.size=36,this.goalTextField.text="0",this.timeTextField=new egret.TextField,this.addChild(this.timeTextField),this.timeTextField.x=575,this.timeTextField.y=110,this.timeTextField.width=110,this.timeTextField.textColor=16770048,this.timeTextField.textAlign=egret.HorizontalAlign.CENTER,this.timeTextField.size=36,this.timeTextField.text="0s"},o.prototype.clickStartGoButton=function(t){this.dispatchEventWith(o.START_GO_EVENT,!1)},o.prototype.setScoreText=function(t){this.scoreTextField.text=t.toString()},o.prototype.setGoalText=function(t){this.goalTextField.text=t.toString()},o.prototype.setTimeText=function(t){this.timeTextField.text=t+"s"},o.prototype.destroy=function(){this.removeChild(this.bgBmp),this.removeChild(this.heroBmp),this.removeChild(this.scoreTextField),this.removeChild(this.goalTextField),this.removeChild(this.timeTextField),this.removeChild(this.startGoButton),this.startGoButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickStartGoButton,this),this.bgBmp=null,this.heroBmp=null,this.scoreTextField=null,this.goalTextField=null,this.timeTextField=null,this.startGoButton=null},o.LEVEL_MANAGER_EVENT="LEVEL_MANAGER_EVENT",o.START_GO_EVENT="START_GO_EVENT",o}(egret.Sprite);t.GameManager=e,__reflect(e.prototype,"goldman.GameManager")}(goldman||(goldman={}));var goldman;!function(t){function e(t){var e=new egret.Bitmap,o=RES.getRes(t);return e.texture=o,e}function o(t){for(;t.numChildren;)t.removeChildAt(0)}var i=function(){function t(){}return t.hitTestObjByParentObj=function(t,e,o){var i=t.getTransformedBounds(o),n=e.getTransformedBounds(o);return i.intersects(n)},t}();t.GameUtil=i,__reflect(i.prototype,"goldman.GameUtil"),t.createBitmapByName=e,t.removeAllchild=o}(goldman||(goldman={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),this.createGameScene(),console.log("========runGame"),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),t=new LoadingUI,console.log("========>loadResource"),this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return o.sent(),[4,this.loadTheme()];case 2:return o.sent(),[4,RES.loadGroup("preload",0,t)];case 3:return o.sent(),this.stage.removeChild(t),[3,5];case 4:return e=o.sent(),console.error(e),[3,5];case 5:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,o){var i=new eui.Theme("resource/default.thm.json",t.stage);i.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){var t=new goldman.GameContainer;console.log(t),this.addChild(t)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,o=RES.getRes(t);return e.texture=o,e},e.prototype.startAnimation=function(t){var e=this,o=new egret.HtmlTextParser,i=t.map(function(t){return o.parse(t)}),n=this.textfield,r=-1,a=function(){r++,r>=i.length&&(r=0);var t=i[r];n.textFlow=t;var o=egret.Tween.get(n);o.to({alpha:1},200),o.wait(2e3),o.to({alpha:0},200),o.call(a,e)};a()},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,o,i){function n(t){e.call(i,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),o.call(i))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,o){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(i,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var s=t.split("/");s.pop();var h=s.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(i,generateJSON.paths[t])},this):RES.getResByUrl(h,function(o){window.JSONParseClass.setData(o),egret.callLater(function(){e.call(i,generateJSON.paths[t])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var goldman;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)},e}(egret.Sprite);t.BombBtn=e,__reflect(e.prototype,"goldman.BombBtn")}(goldman||(goldman={}));var goldman;!function(t){var e=function(e){function o(){var t=e.call(this)||this;return t.levelArr=[],t.currLevel=1,t.money=0,t.LEVEL_TIME=60,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(o,e),o.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),o.thisW=this.stage.stageWidth,o.thisH=this.stage.stageHeight,this.getLevelData(),console.log("11111111111111111111")},o.prototype.getLevelData=function(){this.levelArr=RES.getRes("Level_json"),console.log("==========>>>levelArr",this.levelArr),this.createGameScene()},o.prototype.createGameScene=function(){this.gameManager=new t.GameManager,this.gameManager.addEventListener(t.GameManager.LEVEL_MANAGER_EVENT,this.onGameManagerEventHandler,this),this.gameManager.addEventListener(t.GameManager.START_GO_EVENT,this.clickStartGo,this),this.addChild(this.gameManager),this.gameManager.createObjs(),this.gameManager.setGoalText(this.levelArr[this.currLevel-1].goal),this.objManager=new t.ObjManager,this.objManager.addEventListener(t.ObjManager.OBJ_MANAGER_EVENT,this.onObjManagerEventHandler,this),this.addChild(this.objManager),this.objManager.createObjs(this.levelArr[this.currLevel-1].objsArr),this.hookManager=new t.HookManager,this.hookManager.addEventListener(t.HookManager.HOOK_MANAGER_EVENT,this.onHookManagerEventHandler,this),this.addChild(this.hookManager),this.hookManager.x=o.thisW/2,this.hookManager.y=158,this.gameOver=new t.GameOver,this.addEventListener(egret.Event.ENTER_FRAME,this.onGameEnterFrame,this),this.createGameTimeInterval()},o.prototype.createGameTimeInterval=function(){this.levelTimer=new egret.Timer(1e3,this.LEVEL_TIME),this.levelTimer.addEventListener(egret.TimerEvent.TIMER,this.gameTimerFunc,this),this.levelTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.gameTimerComFunc,this),this.levelTimer.start(),this.gameManager.setTimeText(this.LEVEL_TIME)},o.prototype.gameTimerFunc=function(t){this.gameManager.setTimeText(this.LEVEL_TIME-t.target.currentCount)},o.prototype.gameTimerComFunc=function(t){this.gameManager.setTimeText(this.LEVEL_TIME-t.target.currentCount),this.onGameOver()},o.prototype.onGameOver=function(){console.log("gameOver!!!");var e=this;this.objManager.destroy(),this.removeChild(this.objManager);var o=setTimeout(function(){console.log("alert msgbox!!!!!"),e.addChild(e.gameOver),e.gameOver.setScoreText(28),e.gameOver.addEventListener(t.GameOver.CLOSE_GAMEOVER_EVENT,e.onDestroyGameOver,e),clearTimeout(o)},e,500)},o.prototype.onDestroyGameOver=function(e){this.gameOver.removeEventListener(t.GameOver.CLOSE_GAMEOVER_EVENT,this.onDestroyGameOver,this),this.removeChild(this.gameOver)},o.prototype.destoryGameScene=function(){this.gameManager.removeEventListener(t.GameManager.START_GO_EVENT,this.clickStartGo,this),this.gameManager.destroy(),this.removeChild(this.gameManager),this.objManager.destroy(),this.removeChild(this.objManager),this.hookManager.destroy(),this.removeChild(this.hookManager),this.removeEventListener(egret.Event.ENTER_FRAME,this.onGameEnterFrame,this),this.levelTimer.removeEventListener(egret.TimerEvent.TIMER,this.gameTimerFunc,this),this.levelTimer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.gameTimerComFunc,this),this.levelTimer.stop(),this.levelTimer=null},o.prototype.onGameEnterFrame=function(t){this.hookManager.onUpdateEnterFrame()},o.prototype.onGameManagerEventHandler=function(t){var e=t.data;e.type},o.prototype.onObjManagerEventHandler=function(t){var e=t.data;e.type},o.prototype.onHookManagerEventHandler=function(e){var o=e.data;switch(o.type){case t.HookManager.GO_COMPLETE_EVENT:var i=o.catchObj;i&&(console.log("obj.money "+i.money),this.money+=i.money,this.gameManager.setScoreText(this.money));break;case t.HookManager.UPDATE_HOOK_POSITION_EVENT:this.hookManager.isBack||this.checkHookHitObject(o.hookBmp)}},o.prototype.checkHookHitObject=function(e){var o=this.objManager.objsArr,i=this;for(var n in o){var r=o[n],a=t.GameUtil.hitTestObjByParentObj(e,r,this);if(a){"TNT"==r.type?(i.hookManager.setHookBackV(0),i.objManager.removeObjsAtAreaByHitObj(r),r.overObject(),setTimeout(function(){i.hookManager.setHookBackV(r.backV),i.hookManager.setCatchObj(r),r.destory()},300)):(console.log("碰撞=====》》》"),i.hookManager.setHookBackV(r.backV),i.hookManager.setCatchObj(r),i.objManager.removeObj(r),r.destory());break}}},o.prototype.clickStartGo=function(t){console.log("dddddddddddddddd"),this.hookManager.startGo()},o}(egret.Sprite);t.GameContainer=e,__reflect(e.prototype,"goldman.GameContainer")}(goldman||(goldman={}));var goldman;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.once(egret.Event.ADDED_TO_STAGE,e.AddToStage,e),e}return __extends(e,t),e.prototype.AddToStage=function(t){this.init()},e.prototype.init=function(){console.log("444444444444"),this.skinName="GameOverSkin",this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this)},e.prototype.setScoreText=function(t){console.log("setScoreText"),this.scoreText.text=t.toString()},e.prototype.destroy=function(){console.log("dddddddddd====destroy"),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.removeChild(this.scoreText),this.removeChild(this.closeBtn),this.scoreText=null,this.closeBtn=null,this.skinName=null},e.prototype.onClose=function(){this.destroy(),this.dispatchEventWith(e.CLOSE_GAMEOVER_EVENT,!1)},e.CLOSE_GAMEOVER_EVENT="CLOSE_GAMEOVER_EVENT",e}(eui.Component);t.GameOver=e,__reflect(e.prototype,"goldman.GameOver")}(goldman||(goldman={}));var goldman;!function(t){var e=function(t){function e(e,o){return t.call(this,"Gold1",e,o)||this}return __extends(e,t),e}(t.Obj);t.Gold1=e,__reflect(e.prototype,"goldman.Gold1")}(goldman||(goldman={}));var goldman;!function(t){var e=function(t){function e(e,o){return t.call(this,"Gold2",e,o)||this}return __extends(e,t),e}(t.Obj);t.Gold2=e,__reflect(e.prototype,"goldman.Gold2")}(goldman||(goldman={}));var goldman;!function(t){var e=function(t){function e(e,o){return t.call(this,"Gold3",e,o)||this}return __extends(e,t),e}(t.Obj);t.Gold3=e,__reflect(e.prototype,"goldman.Gold3")}(goldman||(goldman={}));var goldman;!function(t){var e=function(e){function o(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(o,e),o.prototype.onAddToStage=function(e){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.line=new egret.Shape,this.addChild(this.line),this._hookBmp=t.createBitmapByName("hook_png"),this.addChild(this._hookBmp)},o.prototype.setBackHookType=function(e){void 0===e&&(e=""),e?(this._backHookBmp=t.createBitmapByName(e+"_Back"),this.addChild(this._backHookBmp),this._backHookBmp.x=this._hookBmp.x,this._backHookBmp.y=this._hookBmp.y,this._hookBmp.visible=!1):(this._backHookBmp&&this.contains(this._backHookBmp)&&(this.removeChild(this._backHookBmp),this._backHookBmp=null),this._hookBmp.visible=!0)},o.prototype.redrawHook=function(t){void 0===t&&(t=0),this._hookBmp.y=t,this.line.graphics.clear(),this.line.graphics.lineStyle(3,3946561),this.line.graphics.moveTo(0,0),this.line.graphics.lineTo(0,t),this.line.graphics.endFill();for(var e=10;t>=e;e+=10)this.line.graphics.beginFill(3946561),this.line.graphics.drawCircle(0,e,2),this.line.graphics.endFill();this._hookBmp.x=-this._hookBmp.width/2,this._backHookBmp&&(this._backHookBmp.y=t,this._backHookBmp.x=-this._backHookBmp.width/2)},Object.defineProperty(o.prototype,"hookBmp",{get:function(){return this._hookBmp},enumerable:!0,configurable:!0}),o.prototype.destroy=function(){this.removeChild(this.line),this.line=null,this.removeChild(this._hookBmp),this._hookBmp=null,this._backHookBmp&&this.contains(this._backHookBmp)&&(this.removeChild(this._backHookBmp),this._backHookBmp=null)},o}(egret.Sprite);t.Hook=e,__reflect(e.prototype,"goldman.Hook")}(goldman||(goldman={}));var goldman;!function(t){var e=function(e){function o(){var t=e.call(this)||this;return t.BASE_ROTATION_MAX=60,t.LINE_HEIGHT_DEFAULT=30,t.GO_V_DEFAULT=8,t.BACK_V_DEFAULT=13,t.isGo=!1,t.isBack=!1,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(o,e),o.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.createHook(),this.lineHeight=this.LINE_HEIGHT_DEFAULT,this.hook.redrawHook(this.LINE_HEIGHT_DEFAULT),this.startRotate()},o.prototype.createHook=function(){this.hook=new t.Hook,this.addChild(this.hook),this.goV=this.GO_V_DEFAULT,this.backV=this.BACK_V_DEFAULT},o.prototype.onUpdateEnterFrame=function(){this.onUpdateRotation(),this.isGo&&this.onUpdateGo()},o.prototype.startRotate=function(){this.direction="left"},o.prototype.onUpdateRotation=function(){"left"==this.direction?this.hook.rotation+=1.5:"right"==this.direction&&(this.hook.rotation-=1.5),"stop"!=this.direction&&(this.hook.rotation<-this.BASE_ROTATION_MAX?this.direction="left":this.hook.rotation>this.BASE_ROTATION_MAX&&(this.direction="right"))},o.prototype.startGo=function(){this.isGo=!0,this.direction="stop"},o.prototype.onUpdateGo=function(){var e=this.goV;if(this.isBack&&(e=-this.backV),this.lineHeight+=e,this.hook.redrawHook(this.lineHeight),this.dispatchEventWith(o.HOOK_MANAGER_EVENT,!1,{type:o.UPDATE_HOOK_POSITION_EVENT,hook:this.hook,hookBmp:this.hook.hookBmp}),this.lineHeight<this.LINE_HEIGHT_DEFAULT&&this.goComplete(),!this.isBack){var i=this.hook.localToGlobal(this.hook.hookBmp.x,this.hook.hookBmp.y);(i.x<0||i.x>t.GameContainer.thisW||i.y>t.GameContainer.thisH)&&(this.isBack=!0,this.backV=this.BACK_V_DEFAULT)}},o.prototype.setHookBackV=function(t){this.isBack=!0,this.backV=t},o.prototype.goComplete=function(){this.dispatchEventWith(o.HOOK_MANAGER_EVENT,!1,{type:o.GO_COMPLETE_EVENT,catchObj:this.catchObj}),this.hook.setBackHookType(),this.lineHeight=this.LINE_HEIGHT_DEFAULT,this.hook.redrawHook(this.lineHeight),this.isGo=!1,this.isBack=!1,this.startRotate(),this.catchObj=null},o.prototype.setCatchObj=function(t){this.catchObj=t;var e=t.type;console.log("catchObj.type: "+e),this.hook.setBackHookType(e)},o.prototype.destroy=function(){this.hook.destroy(),this.removeChild(this.hook),this.hook=null,this.catchObj=null},o.HOOK_MANAGER_EVENT="HOOK_MANAGER_EVENT",o.GO_COMPLETE_EVENT="GO_COMPLETE_EVENT",o.UPDATE_HOOK_POSITION_EVENT="UPDATE_HOOK_POSITION_EVENT",o}(egret.Sprite);t.HookManager=e,__reflect(e.prototype,"goldman.HookManager")}(goldman||(goldman={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,o){function i(i){e.call(o,i,t)}if(RES.hasRes(t)){var n=RES.getRes(t);n?i(n):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var goldman;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._objsArr=[],e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.objsConfig=RES.getRes("objsConfig_json"),console.log("=========>",this.objsConfig)},e.prototype.createObjs=function(t){for(var e=0;e<t.length;e++){var o=t[e],i=o.name,n=this.objsConfig[i].money,r=this.objsConfig[i].backV,a=egret.getDefinitionByName("goldman."+i),s=new a(n,r);s.x=o.x,s.y=o.y,this._objsArr.push(s),this.addChild(s)}},Object.defineProperty(e.prototype,"objsArr",{get:function(){return this._objsArr},enumerable:!0,configurable:!0}),e.prototype.removeObjsAtAreaByHitObj=function(t){if("TNT"==t.type){var e=[];for(var o in this._objsArr){var i=this._objsArr[o];if(i!==t){var n=new egret.Point(i.x+i.width/2,i.y+i.height/2),r=new egret.Point(t.x+i.width/2,t.y+i.height/2),a=egret.Point.distance(n,r);200>=a&&e.push(i)}}for(var o in e){var i=e[o];i.destory(),this.removeObj(i)}}},e.prototype.removeObj=function(t){console.log("从数组中removeObj");var e=this._objsArr.splice(this._objsArr.indexOf(t),1)[0];return this.removeChild(e),e},e.prototype.destroy=function(){for(var t in this._objsArr){var e=this._objsArr[t];this.removeChild(e),e.destory()}this._objsArr=[]},e.OBJ_MANAGER_EVENT="OBJ_MANAGER_EVENT",e}(egret.Sprite);t.ObjManager=e,__reflect(e.prototype,"goldman.ObjManager")}(goldman||(goldman={}));